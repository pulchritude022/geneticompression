<template>
  <require from="./canvas-to-url"></require>

  <div class="panel panel-default">
    <div class="panel-heading">Compression</div>
    <div class="panel-body">
      <div if.bind="!api.sourceLoaded" class="text-center">
        <span class="no-image-text">${noImageMessage}</span>
      </div>
      <div if.bind="api.sourceLoaded">
        <div class="text-center col-md-8">
          <img src.bind="bestMatch.url & signal: 'need-update'" class="img-thumbnail">
          <h2>Pixel Match: ${(bestMatch.match * 100).toFixed(2)}%</h2>
        </div>
        <div class="list-group col-md-4">
          <div class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">Red Value Equation</h5>
            </div>
            <p>${bestMatch.getFormula("R")}</p>
          </div>
          <div class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">Green Value Equation</h5>
            </div>
            <p>${bestMatch.getFormula("G")}</p>
          </div>
          <div class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">Blue Value Equation</h5>
            </div>
            <p>${bestMatch.getFormula("B")}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
